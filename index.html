<!DOCTYPE html>

<html>
    <head>
        <title> Dancing parrot ðŸ¦œ </title>

        <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico?" />

        <style type="text/css">

            * {
                width: auto;
                height: auto;

                margin: 0px;
                padding: 0px;
                user-select: none;
            }

            body {
                background-color: #000;

                width: 100vw;
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;

                flex-direction: column;
                position: relative;
            }

            div {
                color: #fff;
                font-family: "Courier New", Courier, monospace;
                white-space: pre;

                font-size: 0.8em;

                width: auto;
                height: auto;
            }

            div > div {
                text-align: center;
            }

            .bottom {
                position: absolute;
                bottom: 0;
                left: 50%;
                transform: translateX(-90%);

                width: calc(32px + 6vw);

                font-size: 0.75rem;
            }


            a:hover {
                opacity: 1;
            }

            a {
                opacity: 0.25;
                transition: opacity linear .2s;


                color: inherit;
                text-decoration: none;
            }

            a > span {
                float: right;
                width: 5vw;
            }

            #git-image {
                float: left;

                display: block;
                width: 32px;
                height: 32px;
                background-image: url(./GitHub-Mark-Light-32px.png);
            }
        </style>
    </head>

    <body dir="ltr">
        <div id="text-wrapper">
            <div>Loading... <noscript>Try enabling javascript in your browser settings.</noscript></div>
        </div>

        <div class="bottom">
            <a href="https://github.com/undefined06855/BrowserParrot">
                <span id="git-image"></span>
                <span>Github</span>
            </a>
        </div>

        <script type="text/javascript">

            var curframe = 0
              , curcol   = 0

            reponse = fetch("./frames.json")
            .then(response => response = response.json())
            .then(response => main(response))

            const buffer = document.querySelector("div").querySelector("div")
                , cols = [
                    "red",
                    "yellow",
                    "green",
                    "blue",
                    "magenta",
                    "cyan",
                    "white"
                ]

            function main(frames)
            {
                buffer.innerText = "";
                setInterval(() => {
                    if (curframe == 10)
                    {
                        curframe = 0;
                        curcol++;
                    }
                    if (curcol == 7) curcol = 0
                    buffer.style.color = cols[curcol];
                    buffer.innerText = frames["frame" + curframe];
                    curframe++;
                }, 1000 / 15) // 15fps
            }

        </script>
    </body>
</html>
